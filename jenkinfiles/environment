pipeline {
  agent any
  stages {
      stage ("Listing all environment variables") {
          steps {
              sh "printenv | sort"
          }
      }
      stage ("Using environment variable") {
          steps {
              // ${env.BUILD_NUMBER} or ${BUILD_NUMBER} are same
              echo "BUILD_NUMBER = ${env.BUILD_NUMBER}"
              // If you are sh block you access variable directly like this $BUILD_NUMBER
              sh 'echo BUILD_NUMBER = $BUILD_NUMBER'
          }
      }
  }
}